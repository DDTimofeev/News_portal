py manage.py shell                                                                                                                                                                                                                   #запускаем оболочку Shell
from news_app.models import  *                                                                                                                                                                                              #импорт всех моделей
U1 = User.objects.create_user(username='Dmitry')                                                                                                                                                                #создание пользователя U1
U2 = User.objects.create_user(username='Sergey')                                                                                                                                                               #создание пользователя U2
Author.objects.create(authorUser=U1)                                                                                                                                                                                     #создание автором пользователя U1
Author.objects.create(authorUser=U2)                                                                                                                                                                                     #создание автором пользователя U2
Category.objects.create(name='Category1')                                                                                                                                                                            #создание категории Category1
Category.objects.create(name='Category2')                                                                                                                                                                            #создание категории Category2
Category.objects.create(name='Category3')                                                                                                                                                                            #создание категории Category3
Category.objects.create(name='Category4')                                                                                                                                                                            #создание категории Category4
author = Author.objects.get(id=1)                                                                                                                                                                                             #задание автора(id=1) для статьи 
Post.objects.create(author=author,categoryType='NW', title = 'sometitle', text='smth text big very big')                                                                               #создание НОВОСТИ с текущим автором 
Post.objects.get(id=1)                                                                                                                                                                                                               #обращение к статье с id=1
Post.objects.get(id=1).title                                                                                                                                                                                                       #получение значения title от этой статьи
Post.objects.get(id=1).postCategory.add(Category.objects.get(id=1))                                                                                                                                   #добавление категории Category1 к данной статье
Post.objects.get(id=1).postCategory.add(Category.objects.get(id=3))                                                                                                                                   #добавление категории Category3 к данной статье
author = Author.objects.get(id=2)                                                                                                                                                                                             #задание автора(id=2) для статьи
Post.objects.create(author=author,categoryType='AR', title = 'sometitle of article 1', text='smth text big very big article 1')                                                 #создание НОВОСТИ с текущим автором
Post.objects.get(id=2).postCategory.add(Category.objects.get(id=2))                                                                                                                                   #добавление категории Category1 к данной статье
Post.objects.get(id=2).postCategory.add(Category.objects.get(id=3))                                                                                                                                   #добавление категории Category2 к данной статье
author = Author.objects.get(id=1)                                                                                                                                                                                             #задание автора(id=2) для статьи
Post.objects.create(author=author,categoryType='AR', title = 'sometitle of article 2', text='smth text big very big article 2')                                                 #создание НОВОСТИ с текущим автором
Post.objects.get(id=3).postCategory.add(Category.objects.get(id=3))                                                                                                                                   #добавление категории Category3 к данной статье
Post.objects.get(id=3).postCategory.add(Category.objects.get(id=4))                                                                                                                                   #добавление категории Category4 к данной статье
Comment.objects.create(commentPost=Post.objects.get(id=1),commentUser=Author.objects.get(id=1).authorUser, text='anytext')                               #добавление комментария к статье id=1 автором id=1
Comment.objects.create(commentPost=Post.objects.get(id=2),commentUser=Author.objects.get(id=1).authorUser, text='anytext2')                              #добавление комментария к статье id=2 автором id=1
Comment.objects.create(commentPost=Post.objects.get(id=2),commentUser=Author.objects.get(id=2).authorUser, text='anytext3')                              #добавление комментария к статье id=2 автором id=2
Comment.objects.create(commentPost=Post.objects.get(id=3),commentUser=Author.objects.get(id=2).authorUser, text='anytext4')                              #добавление комментария к статье id=2 автором id=2
Comment.objects.get(id=1).like()                                                                                                                                                                                              #ставим лайк комментарию id = 1
Comment.objects.get(id=2).like()                                                                                                                                                                                              #ставим лайк комментарию id = 2
Comment.objects.get(id=3).like()                                                                                                                                                                                              #ставим лайк комментарию id = 3
Comment.objects.get(id=4).like()                                                                                                                                                                                              #ставим лайк комментарию id = 4
Comment.objects.get(id=1).rating                                                                                                                                                                                             #проверка рейтинга комментария id=1
Comment.objects.get(id=1).dislike()                                                                                                                                                                                          #ставим дизлайк комментарию id = 1
Comment.objects.get(id=2).dislike()                                                                                                                                                                                          #ставим дизлайк комментарию id = 2
Comment.objects.get(id=3).dislike()                                                                                                                                                                                          #ставим дизлайк комментарию id = 3
Comment.objects.get(id=4).dislike()                                                                                                                                                                                          #ставим дизлайк комментарию id = 4
Post.objects.get(id=1).like()                                                                                                                                                                                                       #ставим лайк статье id = 1
Post.objects.get(id=2).like()                                                                                                                                                                                                       #ставим лайк статье id = 2
Post.objects.get(id=3).like()                                                                                                                                                                                                       #ставим лайк статье id = 3
Post.objects.get(id=1).dislike()                                                                                                                                                                                                  #ставим дизлайк статье id = 1
Post.objects.get(id=2).dislike()                                                                                                                                                                                                  #ставим дизлайк статье id = 2
Post.objects.get(id=3).dislike()                                                                                                                                                                                                  #ставим дизлайк статье id = 3
Author.objects.get(id=1).update_rating()                                                                                                                                                                                    #обновление рейтинга автора id=1
Author.objects.get(id=1).ratingAuthor                                                                                                                                                                                         #получение рейтинга автора id=1
Author.objects.get(id=2).update_rating()                                                                                                                                                                                    #обновление рейтинга автора id=2
Author.objects.get(id=2).ratingAuthor                                                                                                                                                                                         #получение рейтинга автора id=2
Author.objects.order_by('-ratingAuthor') [:1]                                                                                                                                                                                #получение автора с самым большим рейтингом (срез 1)
Author.objects.order_by('-ratingAuthor')                                                                                                                                                                                     #получение авторов и рейтингов

Post.objects.order_by('-rating') [:1]                                                                                                                                                                                            #получение статьи с самым большим рейтингом (срез 1)

a=Author.objects.order_by('-ratingAuthor') [:1]                                                                                                                                                                           #задаем переменную a с индексом автора с самым высоким рейтингом
for i in a:
    i.ratingAuthor
    i.authorUser.username                                                                                                                                                                                                           #получаем рейтинг и имя автора


b=Post.objects.order_by('-rating') [:1]
for i in b:
     i.author.authorUser.username
     i.preview()
     i.title
     i.rating                                                                                                                                                                                                                                     #получаем автора, превью, заголовок и рейтинг лучшего поста

top_post = Post.objects.order_by('-rating')[0]
top_post.comment_set.all().values('dateCreation', 'commentUser__username', 'rating', 'text')                                                                                                #вывод лучшего комментария